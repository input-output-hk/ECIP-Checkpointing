##########################################################
################### Node Configuration ###################
##########################################################


NodeId: 0
Protocol: MockedBFT
NumCoreNodes: 2
RequiresNetworkMagic: RequiresMagic
NetworkMagic : 12345
SystemStart: "2020-11-22T04:45:09Z"
SecurityParam : 5
StableLedgerDepth : 3
TurnOnLogging: True
TurnOnLogMetrics: False
SlotDuration: 1
SnapshotsOnDisk: 60
SnapshotInterval: 10
PoWBlockFetchInterval: 5000000
PoWNodeRpcUrl: http://127.0.0.1:8846
PrometheusPort: 13888

# Checkpointing parameters
CheckpointInterval: 4
RequiredMajority: 2
FedPubKeys:
  - ec33a3689573db2f4db4586bb7089cda045116a21cce20c9a6fe7ccadcf9fb336075b3644ac9f0a20e6d45a9e99db477cc420d050969f2d8bfb7408b2169b167
  - 3ea6ebf308a16b45bbf3392d1cd226aa6858d2ea6a2402799eeffc576f0187af62ed11677c8d4d01ef03bbf638f49f2fd77e181924a52dd01b86a187af07b724
NodePrivKeyFile: tests/configuration/QSM/prop_4/secret-key-0


#####         Tracing         #####

minSeverity: Debug

# MinimalVerbosity: Minimal level of the rendering of captured items
# MaximalVerbosity: Maximal level of the rendering of captured items
# NormalVerbosity: the default level of the rendering of captured items
TracingVerbosity: NormalVerbosity

# Trace BlockFetch client.
TraceBlockFetchClient: True

# Trace BlockFetch decisions made by the BlockFetch client.
TraceBlockFetchDecisions: True

# Trace BlockFetch protocol messages.
TraceBlockFetchProtocol: True

# Serialised Trace BlockFetch protocol messages.
TraceBlockFetchProtocolSerialised: True

# Trace BlockFetch server.
TraceBlockFetchServer: True

# Verbose tracer of ChainDB
TraceChainDb: True

# Trace ChainSync client.
TraceChainSyncClient: True

# Trace ChainSync server (blocks).
TraceChainSyncBlockServer: True

# Trace ChainSync server (headers)
TraceChainSyncHeaderServer: True

# Trace ChainSync protocol messages.
TraceChainSyncProtocol: True

# Trace DNS Resolver messages.
TraceDNSResolver: True

# Trace DNS Subscription messages.
TraceDNSSubscription: True

# Trace error policy resolution.
TraceErrorPolicy: True

# Trace block forging.
TraceForge: True

# Trace IP Subscription messages.
TraceIpSubscription: True

# Trace local ChainSync protocol messages.
TraceLocalChainSyncProtocol: True

# Trace local TxSubmission protocol messages.
TraceLocalTxSubmissionProtocol: True

# Trace local TxSubmission server.
TraceLocalTxSubmissionServer: True

# Trace mempool.
TraceMempool: True

# Trace Mux Events
TraceMux: True

# Trace TxSubmission server (inbound transactions).
TraceTxInbound: True

# Trace TxSubmission client (outbound transactions).
TraceTxOutbound: True

# Trace TxSubmission protocol messages.
TraceTxSubmissionProtocol: True


##### LoggingFeature Configuration #####

# EKG is a simple metrics monitoring system. Uncomment the following to listen
# on the given local port and point your web browser to http://localhost:12788/
# for a live view. The same URL can also serve JSON output.
hasEKG: 12788

# The Prometheus monitoring system can also be used. Uncomment the following
# to listen on the given port
hasPrometheus:
  - localhost
  - 12791

hasGraylog: 12789
hasGUI: 12790

# For the Katip logging backend we must set up outputs (called scribes)
# The available types of scribe are:
#   FileSK for files
#   StdoutSK/StdoutSK for stdout/stderr
#   JournalSK for systemd's journal system
#   DevNullSK
# The scribe output format can be ScText or ScJson. Log rotation settings can
# be specified in the defaults below or overidden on a per-scribe basis here.
setupScribes:
  - scKind: FileSK
    scName: "db/qsm-tests-4/nodedir-0/node.log"
    scFormat: ScText

# For the Katip logging backend this specifies the default scribes that trace
# output is sent to if it is not configured to be sent to other scribes.
defaultScribes:
  - - FileSK
    - "db/qsm-tests-4/nodedir-0/node.log"

setupBackends:
  - KatipBK
  - EKGViewBK

defaultBackends:
  - KatipBK

##### Fine grained logging control #####
options:
  mapBackends:
